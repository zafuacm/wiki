import{_ as e,o as T,c as s,k as t,a,R as Q}from"./chunks/framework.XiqD54nH.js";const q1=JSON.parse('{"title":"ST 表","description":"","frontmatter":{"comments":true},"headers":[],"relativePath":"struct/sparse-table.md","filePath":"struct/sparse-table.md","lastUpdated":1743069988000}'),l={name:"struct/sparse-table.md"},o=t("h1",{id:"st-表",tabindex:"-1"},[a("ST 表 "),t("a",{class:"header-anchor",href:"#st-表","aria-label":'Permalink to "ST 表"'},"​")],-1),n={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.847ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4352.3 1000","aria-hidden":"true"},p=Q("",1),d=[p],i=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])],-1),m={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.618ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2041 1000","aria-hidden":"true"},h=Q("",1),y=[h],g=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])],-1),H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.847ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 4352.3 1000","aria-hidden":"true"},x=Q("",1),_=[x],u=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mi",null,"log"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])],-1),V=t("p",null,[a("ST 表仅适用于 "),t("strong",null,"可重复贡献问题"),a(" 问题。")],-1),f=t("p",null,[t("strong",null,"什么是可重复贡献问题")],-1),E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0.079ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"0.973ex",role:"img",focusable:"false",viewBox:"0 -465 500 430","aria-hidden":"true"},L=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mo"},[t("path",{"data-c":"2217",d:"M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z",style:{"stroke-width":"3"}})])])],-1),M=[L],Z=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",null,"∗")])],-1),b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.036ex",height:"1.505ex",role:"img",focusable:"false",viewBox:"0 -583 3994 665","aria-hidden":"true"},C=Q("",1),D=[C],A=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"x"),t("mo",null,"∗"),t("mi",null,"x"),t("mo",null,"="),t("mi",null,"x")])],-1),F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.319ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8539 1000","aria-hidden":"true"},S=Q("",1),B=[S],P=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"gcd"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])],-1),I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.531ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3328.7 1000","aria-hidden":"true"},R=Q("",1),J=[R],z=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"S"),t("mi",null,"T"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])],-1),G={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.466ex",height:"2.444ex",role:"img",focusable:"false",viewBox:"0 -830.4 5509.9 1080.4","aria-hidden":"true"},q=Q("",1),$=[q],U=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mi",null,"i"),t("mo",null,","),t("mi",null,"i"),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mi",null,"j")]),t("mo",null,"−"),t("mn",null,"1"),t("mo",{stretchy:"false"},"]")])],-1),W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.684ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5606.2 1000","aria-hidden":"true"},K=Q("",1),Y=[K],t1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"S"),t("mi",null,"T"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mi",null,"a"),t("mi",null,"i")])])],-1),a1=t("code",null,"std::__lg",-1),T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.618ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2041 1000","aria-hidden":"true"},Q1=Q("",1),e1=[Q1],l1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])],-1),o1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.546ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.879ex",height:"2.116ex",role:"img",focusable:"false",viewBox:"0 -694 1714.6 935.4","aria-hidden":"true"},r1=Q("",1),p1=[r1],d1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"log"),t("mn",null,"2")])])],-1),i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.21ex",height:"1.038ex",role:"img",focusable:"false",viewBox:"0 -448 1861 459","aria-hidden":"true"},c1=Q("",1),h1=[c1],y1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max")])],-1),g1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.73ex",height:"2.557ex",role:"img",focusable:"false",viewBox:"0 -880.4 18444.4 1130.4","aria-hidden":"true"},w1=Q("",1),x1=[w1],_1=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"S"),t("mi",null,"T"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"j"),t("mo",null,"+"),t("mn",null,"1"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),t("mo",{fence:"false",stretchy:"false"},"{"),t("mi",null,"S"),t("mi",null,"T"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,","),t("mi",null,"j"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"S"),t("mi",null,"T"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"j")])]),t("mo",null,","),t("mi",null,"j"),t("mo",{stretchy:"false"},")"),t("mo",{fence:"false",stretchy:"false"},"}")])],-1),u1=Q("",2),V1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.084ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 8877 1000","aria-hidden":"true"},E1=Q("",1),k1=[E1],L1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"s"),t("mo",null,"="),t("mo",{fence:"false",stretchy:"false"},"⌊"),t("msub",null,[t("mi",null,"log"),t("mn",null,"2")]),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mo",{stretchy:"false"},"("),t("mi",null,"r"),t("mo",null,"−"),t("mi",null,"l"),t("mo",null,"+"),t("mn",null,"1"),t("mo",{stretchy:"false"},")"),t("mo",{fence:"false",stretchy:"false"},"⌋")])],-1),M1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.344ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5456.2 1000","aria-hidden":"true"},b1=Q("",1),v1=[b1],C1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mi",null,"l"),t("mo",null,","),t("mi",null,"l"),t("mo",null,"+"),t("msup",null,[t("mn",null,"2"),t("mi",null,"s")]),t("mo",null,"−"),t("mn",null,"1"),t("mo",{stretchy:"false"},"]")])],-1),D1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.037ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 5762.2 1000","aria-hidden":"true"},F1=Q("",1),j1=[F1],S1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"["),t("mi",null,"r"),t("mo",null,"−"),t("msup",null,[t("mn",null,"2"),t("mi",null,"s")]),t("mo",null,"+"),t("mn",null,"1"),t("mo",null,","),t("mi",null,"r"),t("mo",{stretchy:"false"},"]")])],-1),B1=Q("",5);function P1(I1,N1,R1,J1,z1,G1){return T(),s("div",null,[o,t("p",null,[a("ST 表基于倍增思想，可以做到 "),t("mjx-container",n,[(T(),s("svg",r,d)),i]),a(" 预处理，"),t("mjx-container",m,[(T(),s("svg",c,y)),g]),a(" 回答每个询问，所用空间为 "),t("mjx-container",H,[(T(),s("svg",w,_)),u]),a("。")]),V,t("blockquote",null,[f,t("p",null,[a("对于运算 "),t("mjx-container",E,[(T(),s("svg",k,M)),Z]),a("，满足结合律且 "),t("mjx-container",b,[(T(),s("svg",v,D)),A]),a("，则对应的区间询问就是一个可重复贡献问题。例如 "),t("mjx-container",F,[(T(),s("svg",j,B)),P]),a("。像区间和就不具有这个性质。")])]),t("p",null,[a("令 "),t("mjx-container",I,[(T(),s("svg",N,J)),z]),a(" 表示区间 "),t("mjx-container",G,[(T(),s("svg",O,$)),U]),a(" 的最大值，显然 "),t("mjx-container",W,[(T(),s("svg",X,Y)),t1]),a("。")]),t("p",null,[a("熟悉 C++ 的同学可能知道，"),a1,a(" 可以 "),t("mjx-container",T1,[(T(),s("svg",s1,e1)),l1]),a(" 的计算 "),t("mjx-container",o1,[(T(),s("svg",n1,p1)),d1]),a("，不再需要预处理。")]),t("p",null,[a("以 "),t("mjx-container",i1,[(T(),s("svg",m1,h1)),y1]),a(" 为例，我们可以列出状态转移方程")]),t("mjx-container",g1,[(T(),s("svg",H1,x1)),_1]),u1,t("p",null,[a("记 "),t("mjx-container",V1,[(T(),s("svg",f1,k1)),L1]),a("，我们总是可以用两个区间 "),t("mjx-container",M1,[(T(),s("svg",Z1,v1)),C1]),a(" 和 "),t("mjx-container",D1,[(T(),s("svg",A1,j1)),S1]),a(" 来覆盖所查询区间。")]),B1])}const $1=e(l,[["render",P1]]);export{q1 as __pageData,$1 as default};
